$(document).ready(function(e){function a(a){e("#result > .list-group").html(""),e("#result > .list-group").append('<li class="list-group-item list-group-item-danger">'+a+"</li>"),e("#loading").hide()}function t(t,o,i,s,c){l.length>1&&window.history.pushState("wtf",e("title").html(),"?q="+l);var u={q:t,sort:n.sort,auto_complete:n.autoComplete,access_token:n.accessToken,count:n.count};null!=o&&null!=i&&(u.captcha_sid=o,u.captcha_key=i),c&&(u.performer_only=1),e.ajax({url:n.url,data:u,type:"POST",dataType:"jsonp",beforeSend:function(){e("#loading").show()},error:function(){a("Internet ýok öýdýän...")},success:function(o){if(o.error)return a(5==o.error.error_code?"Access Token ýalňyş":"Ýalňyşlyk : "+o.error.error_msg),void(14==o.error.error_code&&r(o.error.captcha_sid,o.error.captcha_img));if(0==o.response)return void a("Beýle aýdym ýok!");e("#result > .list-group").html("");for(var n=1;n<o.response.length;n++)e("#result > .list-group").append('<li class="list-group-item"><span class="badge">'+o.response[n].duration.toTime()+'</span><span class="badge play" title="Diňlemek üçin basyň!"><span class="glyphicon glyphicon-play"></span></span><a title="Kompýutere ýüklemek üçin basyň!" target="_blank" data-src="'+o.response[n].url+'" href="download.php?audio_id='+o.response[n].owner_id+"_"+o.response[n].aid+'">'+o.response[n].artist+" - "+o.response[n].title+"</a></li>");if(s)try{ga("send","event","search",t)}catch(i){}e(".play").on("click",function(a){e("#jquery_jplayer_1").jPlayer("setMedia",{mp3:e(this).parent().find("a").attr("data-src")}),e("#jquery_jplayer_1").jPlayer("play"),e("#jp_container_1").show(),window.scrollTo(0,0)}),e("#loading").hide()}})}function r(a,r){try{ga("send","event","captcha")}catch(o){}e("#captchaModal").modal("show"),e("#captchaImage").attr("src",r),e("#captchaImage").on("click",function(a){e(this).attr("src",r)}),e("#captchaSend").on("click",function(){e("#captchaModal").modal("hide"),t(e("#query").val(),a,e("#captchaKey").val(),!0)}),e("#captchaKey").bind("keypress",function(a){13==a.keyCode&&e("#captchaSend").trigger("click")})}function o(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=a.exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}e("#query").bind("keypress",function(a){13==a.keyCode&&e(".search").trigger("click")}),e("#jquery_jplayer_1").jPlayer({swfPath:"http://alashov.com/music/js",supplied:"mp3",wmode:"window",smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!0,toggleDuration:!0,volume:1}),e('[data-toggle="tooltip"]').tooltip();var n={url:"https://api.vk.com/method/audio.search",sort:2,autoComplete:1,accessToken:"4d45c6ebef3b05a910071c948bb1374015c9e47ad953fba2f631d8bc1fca425a0a0bffcb4955d3af90c07",count:1e3},i={url:"http://ws.audioscrobbler.com/2.0/",method:"artist.search",apiKey:"8b7af513f19366e766af02c85879b0ac",format:"json",limit:10};e("#query").autocomplete({source:function(a,t){e.get(i.url,{method:i.method,api_key:i.apiKey,format:i.format,limit:i.limit,artist:a.term},function(e){var a=[];if(void 0!=e.results.artistmatches.artist){for(var r=0;r<e.results.artistmatches.artist.length;r++)a.push(e.results.artistmatches.artist[r].name);t(a)}})},minLength:2,select:function(a,t){e(".search").trigger("click");try{ga("send","event","autoCompleteSelect",e("#query").val())}catch(r){}}}),e(".search").on("click touchstart",function(a){l=e("#query").val(),""!=l&&t(l,null,null,!0)});var l=o("q");if(l.length>1)t(l,null,null,!0),e("#query").val(l);else{var s=["Banks","Kygo","Ed Sheeran","Toe","Coldplay","The xx","MS MR","Macklemore","Lorde","Birdy","Seinabo Sey","Sia","M83","Hans Zimmer","Keaton Henson","Yiruma","Martin Garrix","Calvin Harris","Zinovia","Avicii","Iggy Azalea","Charli XCX","Sam Smith","deadmau5","Yann Tiersen","Jessie J"," Maroon 5","X ambassadors","Fink","Young Summer","Lana Del Rey","Arctic Monkeys"],c=s[Math.floor(Math.random()*s.length)];t(c,null,null,!1,!0),window.history.pushState("wtf",e("title").html(),"?q="+c),e("#query").val(c)}Number.prototype.toTime=function(){var e=parseInt(this,10),a=Math.floor(e/3600),t=Math.floor((e-3600*a)/60),r=e-3600*a-60*t;10>t&&(t="0"+t),10>r&&(r="0"+r);var o=t+":"+r;return o}});{}