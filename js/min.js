$(document).ready(function(d){d("#query").bind("keypress",function(f){if(f.keyCode==13){d(".search").trigger("click")}});var c={url:"https://api.vk.com/method/audio.search",sort:2,autoComplete:1,accessToken:"3bced7864f70a9f7735bd1ed96b7c83f0ec1f643b4310504a4ebb9c9eb8fffd405196cdd75ba34a78b8c502e0a8da",count:300};var e={url:"http://ws.audioscrobbler.com/2.0/",method:"artist.search",apiKey:"8b7af513f19366e766af02c85879b0ac",format:"json",limit:10};d("#query").autocomplete({source:function(g,f){d.get(e.url,{method:e.method,api_key:e.apiKey,format:e.format,limit:e.limit,artist:g.term},function(j){var k=[];if(j.results.artistmatches.artist!=undefined){for(var h=0;h<j.results.artistmatches.artist.length;h++){k.push(j.results.artistmatches.artist[h].name)}f(k)}})},minLength:2,select:function(f,g){d(".search").trigger("click")}});d(".search").on("click touchstart",function(f){query=d("#query").val();if(query==""){return}a(query)});a("Banks - This Is What Feels Like");d("#query").val("Banks - This Is What Feels Like");function b(f){d("#result > .list-group").append('<li class="list-group-item list-group-item-danger">'+f+"</li>");d("#loading").hide()}function a(f){d.ajax({url:c.url,data:{q:f,sort:c.sort,auto_complete:c.autoComplete,access_token:c.accessToken,count:c.count},type:"GET",dataType:"jsonp",beforeSend:function(){d("#result > .list-group").html("");d("#loading").show()},error:function(){alert("Internet ýok öýdýän...")},success:function(h){if(h.error){if(h.error.error_code==5){b("Access Token ýalňyş")}else{b("Ýalňyşlyk : "+h.error.error_msg)}return}if(h.response==0){b("Beýle aýdym ýok!");return}for(var g=1;g<h.response.length;g++){d("#result > .list-group").append('<a class="list-group-item"  target="_blank" href="'+h.response[g].url+'"> <span class="badge">'+h.response[g].duration.toTime()+"</span>"+h.response[g].artist+" - "+h.response[g].title+"</a>")}d("#loading").hide()}})}Number.prototype.toTime=function(){var j=parseInt(this,10);var f=Math.floor(j/3600);var g=Math.floor((j-(f*3600))/60);var i=j-(f*3600)-(g*60);if(g<10){g="0"+g}if(i<10){i="0"+i}var h=g+":"+i;return h}});